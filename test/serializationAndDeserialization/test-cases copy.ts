import * as byteify from '../../source';

export interface TestCase<T> {
    name: string;
    serializeFn: (x: T) => Uint8Array;
    deserializeFn: (x: Uint8Array) => T;
    values: [T, number[]][];
    isFloatingPoint: boolean;
}

const testCases: TestCase<boolean | number | bigint>[] = [
    // ----- Bool
    {
        name: 'Bool',
        serializeFn: byteify.serializeBool,
        deserializeFn: byteify.deserializeBool,
        values: [
            [true, [1]],
            [false, [0]]
        ],
        isFloatingPoint: false
    },
    // ----- Uint
    {
        name: 'Uint8',
        serializeFn: byteify.serializeUint8,
        deserializeFn: byteify.deserializeUint8,
        values: [
            [0, [0]],
            [1, [1]],
            [12, [12]],
            [42, [42]],
            [127, [127]],
            [128, [128]],
            [192, [192]],
            [255, [255]]
        ],
        isFloatingPoint: false
    },
    {
        name: 'Uint16',
        serializeFn: byteify.serializeUint16,
        deserializeFn: byteify.deserializeUint16,
        values: [
            [0, [0, 0]],
            [1, [0, 1]],
            [42, [0, 42]],
            [127, [0, 127]],
            [128, [0, 128]],
            [192, [0, 192]],
            [255, [0, 255]],
            [256, [1, 0]],
            [1000, [3, 232]],
            [32_896, [128, 128]],
            [49_280, [192, 128]],
            [65_535, [255, 255]]
        ],
        isFloatingPoint: false
    },
    {
        name: 'Uint32',
        serializeFn: byteify.serializeUint32,
        deserializeFn: byteify.deserializeUint32,
        values: [
            [0, [0, 0, 0, 0]],
            [1, [0, 0, 0, 1]],
            [42, [0, 0, 0, 42]],
            [127, [0, 0, 0, 127]],
            [128, [0, 0, 0, 128]],
            [192, [0, 0, 0, 192]],
            [255, [0, 0, 0, 255]],
            [256, [0, 0, 1, 0]],
            [1000, [0, 0, 3, 232]],
            [32_896, [0, 0, 128, 128]],
            [49_280, [0, 0, 192, 128]],
            [65_535, [0, 0, 255, 255]],
            [65_536, [0, 1, 0, 0]],
            [1_000_000, [0, 15, 66, 64]],
            [2_147_483_647, [127, 255, 255, 255]],
            [2_147_483_648, [128, 0, 0, 0]],
            [4_294_967_295, [255, 255, 255, 255]]
        ],
        isFloatingPoint: false
    },
    {
        name: 'Uint64',
        serializeFn: byteify.serializeUint64,
        deserializeFn: byteify.deserializeUint64,
        values: [
            [0, [0, 0, 0, 0, 0, 0, 0, 0]],
            [1, [0, 0, 0, 0, 0, 0, 0, 1]],
            [42, [0, 0, 0, 0, 0, 0, 0, 42]],
            [127, [0, 0, 0, 0, 0, 0, 0, 127]],
            [128, [0, 0, 0, 0, 0, 0, 0, 128]],
            [192, [0, 0, 0, 0, 0, 0, 0, 192]],
            [255, [0, 0, 0, 0, 0, 0, 0, 255]],
            [256, [0, 0, 0, 0, 0, 0, 1, 0]],
            [1000, [0, 0, 0, 0, 0, 0, 3, 232]],
            [32_896, [0, 0, 0, 0, 0, 0, 128, 128]],
            [49_280, [0, 0, 0, 0, 0, 0, 192, 128]],
            [65_535, [0, 0, 0, 0, 0, 0, 255, 255]],
            [65_536, [0, 0, 0, 0, 0, 1, 0, 0]],
            [1_000_000, [0, 0, 0, 0, 0, 15, 66, 64]],
            [2_147_483_647, [0, 0, 0, 0, 127, 255, 255, 255]],
            [2_147_483_648, [0, 0, 0, 0, 128, 0, 0, 0]],
            [4_294_967_295, [0, 0, 0, 0, 255, 255, 255, 255]],
            [4_294_967_296, [0, 0, 0, 1, 0, 0, 0, 0]],
            [10_000_000_000, [0, 0, 0, 2, 84, 11, 228, 0]],
            [281_474_976_710_655, [0, 0, 255, 255, 255, 255, 255, 255]],
            [281_474_976_710_656, [0, 1, 0, 0, 0, 0, 0, 0]],
            [10_000_000_000_000_000, [0, 35, 134, 242, 111, 193, 0, 0]],
            [9_007_199_254_740_991, [0, 31, 255, 255, 255, 255, 255, 255]],
            [9_007_199_254_740_992, [0, 32, 0, 0, 0, 0, 0, 0]],
            [18_446_744_073_709_549_568, [255, 255, 255, 255, 255, 255, 248, 0]],
            [18_446_744_073_709_549_569n, [255, 255, 255, 255, 255, 255, 248, 1]]
        ],
        isFloatingPoint: false
    },
    // ----- Int
    {
        name: 'Int8',
        serializeFn: byteify.serializeInt8,
        deserializeFn: byteify.deserializeInt8,
        values: [
            [0, [0]],
            [1, [1]],
            [12, [12]],
            [42, [42]],
            [96, [96]],
            [127, [127]],
            [-1, [-1]],
            [-12, [-12]],
            [-42, [-42]],
            [-96, [-96]],
            [-127, [-127]]
        ],
        isFloatingPoint: false
    },
    {
        name: 'Int16',
        serializeFn: byteify.serializeInt16,
        deserializeFn: byteify.deserializeInt16,
        values: [
            [0, [0, 0]],
            [1, [0, 1]],
            [42, [0, 42]],
            [127, [0, 127]],
            [128, [0, 128]],
            [192, [0, 192]],
            [255, [0, 255]],
            [256, [1, 0]],
            [1000, [3, 232]],
            [32_767, [127, 255]],
            [-1, [-1, -1]],
            [-12, [-1, -12]],
            [-42, [-1, -42]],
            [-96, [-1, -96]],
            [-127, [-1, -127]]
        ],
        isFloatingPoint: false
    },
    {
        name: 'Int32',
        serializeFn: byteify.serializeInt32,
        deserializeFn: byteify.deserializeInt32,
        values: [
            [0, [0, 0, 0, 0]],
            [1, [0, 0, 0, 1]],
            [42, [0, 0, 0, 42]],
            [127, [0, 0, 0, 127]],
            [128, [0, 0, 0, 128]],
            [192, [0, 0, 0, 192]],
            [255, [0, 0, 0, 255]],
            [256, [0, 0, 1, 0]],
            [1000, [0, 0, 3, 232]],
            [32_896, [0, 0, 128, 128]],
            [49_280, [0, 0, 192, 128]],
            [65_535, [0, 0, 255, 255]],
            [65_536, [0, 1, 0, 0]],
            [1_000_000, [0, 15, 66, 64]],
            [2_147_483_647, [127, 255, 255, 255]],
            [-1, [-1, -1, -1, -1]],
            [-12, [-1, -1, -1, -12]],
            [-42, [-1, -1, -1, -42]],
            [-96, [-1, -1, -1, -96]],
            [-127, [-1, -1, -1, -127]],
            [-128, [-1, -1, -1, -128]],
            [-192, [-1, -1, -1, -192]],
            [-255, [-1, -1, -1, 1]],
            [-256, [-1, -1, -1, 0]],
            [-1000, [-1, -1, 252, 24]],
            [-2_000_000_000, [136, 202, 108, 0]],
            [-2_147_483_647, [-128, 0, 0, 1]]
        ],
        isFloatingPoint: false
    },
    {
        name: 'Int64',
        serializeFn: byteify.serializeInt64,
        deserializeFn: byteify.deserializeInt64,
        values: [
            [0, [0, 0, 0, 0, 0, 0, 0, 0]],
            [1, [0, 0, 0, 0, 0, 0, 0, 1]],
            [42, [0, 0, 0, 0, 0, 0, 0, 42]],
            [127, [0, 0, 0, 0, 0, 0, 0, 127]],
            [128, [0, 0, 0, 0, 0, 0, 0, 128]],
            [192, [0, 0, 0, 0, 0, 0, 0, 192]],
            [255, [0, 0, 0, 0, 0, 0, 0, 255]],
            [256, [0, 0, 0, 0, 0, 0, 1, 0]],
            [1000, [0, 0, 0, 0, 0, 0, 3, 232]],
            [32_896, [0, 0, 0, 0, 0, 0, 128, 128]],
            [49_280, [0, 0, 0, 0, 0, 0, 192, 128]],
            [65_535, [0, 0, 0, 0, 0, 0, 255, 255]],
            [65_536, [0, 0, 0, 0, 0, 1, 0, 0]],
            [1_000_000, [0, 0, 0, 0, 0, 15, 66, 64]],
            [2_147_483_647, [0, 0, 0, 0, 127, 255, 255, 255]],
            // Because of the limitations of JavaScript, we can't test the full range of Int64
            [-1, [255, 255, 255, 255, 255, 255, 255, 255]],
            [-1024, [255, 255, 255, 255, 255, 255, 252, 0]],
            [-2_000_000_000, [-1, -1, -1, -1, 136, 202, 108, 0]],
            [-2_147_483_648, [-1, -1, -1, -1, 128, 0, 0, 0]],
            // Because of the limitations of JavaScript, we can't test the full range of Int64
            [18_446_744_073_709_551_615n, [255, 255, 255, 255, 255, 255, 255, 255]]
        ],
        isFloatingPoint: false
    },
    // ----- Float
    {
        name: 'Float32',
        serializeFn: byteify.serializeFloat32,
        deserializeFn: byteify.deserializeFloat32,
        values: [
            [1, [0, 0, 128, 63]],
            [0, [0, 0, 0, 0]],
            [23.3, [102, 102, 186, 65]]
        ],
        isFloatingPoint: true
    },
    {
        name: 'Float64',
        serializeFn: byteify.serializeFloat64,
        deserializeFn: byteify.deserializeFloat64,
        values: [
            [1, [0, 0, 0, 0, 0, 0, 240, 63]],
            [0, [0, 0, 0, 0, 0, 0, 0, 0]],
            [23.3, [205, 204, 204, 204, 204, 76, 55, 64]]
        ],
        isFloatingPoint: true
    }
];

export default testCases;
